@app.route("/predict", methods=["POST"])
def predict():

    age = float(request.form.get("age", 0))
    hypertension = int(request.form.get("hypertension", 0))
    heart_disease = int(request.form.get("heart_disease", 0))
    bmi = float(request.form.get("bmi", 0))
    glucose = float(request.form.get("glucose", 0))
    smoking = int(request.form.get("smoking", 0))

    features = np.array([[age, hypertension, heart_disease, bmi, glucose, smoking]])

    prediction = model.predict(features)

    if prediction[0] == 1:
        prediction_text = "High Risk of Stroke"
        risk_class = "high"
    else:
        prediction_text = "Low Risk of Stroke"
        risk_class = "low"

    return render_template("index.html",
                           prediction_text=prediction_text,
                           risk_class=risk_class,
                           age=age,
                           hypertension=hypertension,
                           heart_disease=heart_disease,
                           bmi=bmi,
                           glucose=glucose,
                           smoking=smoking)
